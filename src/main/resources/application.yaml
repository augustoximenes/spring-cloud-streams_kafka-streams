server:
  port: 8080

management:
  endpoint:
    health:
      show-details: ALWAYS
  health:
    binders:
      enabled: true
  endpoints:
    web:
      exposure:
        include:
          - bindings
          - "*"

spring:
  cloud:
    stream:
      function:
        definition: process
        bindings:
          process-in-0:
            destination: tp_prospects
          process-in-1:
            destination: tp_accounts
          process-in-2:
            destination: tp_enrichment_accounts
          process-out-0:
            destination: tp_clients
      kafka:
        streams:
          binder:
            applicationId: streams
            brokers: broker:9093
            #brokers: localhost:9092
            configuration:
              #num:
                #stream:
                  #threads: 2
              #state.dir: state-store
              commit.interval.ms: 500
          bindings:
            tp_prospects:
              consumer:
                materializedAs: tp_prospects-state-store
            tp_accounts:
              consumer:
                materializedAs: tp_accounts-state-store
            tp_enrichment_accounts:
              consumer:
                materializedAs: tp_enrichment_accounts-state-store
